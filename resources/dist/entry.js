`,["get",Ct.LOCAL.flag],{"font-scale":1.1}]],["get",Ct.LOCAL.flag]]):y.flag===Ct.AUTO.flag?(o=my().flag,T=["coalesce",["get",o],["get",Ct.LOCAL.flag]]):y===Ct.LOCAL?(o=Ct.LOCAL.flag,T=["get",o]):(o=y.flag,T=["coalesce",["get",o],["get",Ct.LOCAL.flag]]);let{layers:A}=this.getStyle(),R=this.originalLabelStyle.size===0;if(R){let O=ox(A,this);this.isStyleLocalized=Object.keys(O.localized).length>0}for(let O of A){if(O.type!=="symbol")continue;let G=O,V=this.getSource(G.source);if(!V||!("url"in V&&typeof V.url=="string")||new URL(V.url).host!==dr.maptilerApiHost)continue;let{id:de,layout:fe}=G;if(!fe||!("text-field"in fe))continue;let Se;if(R?(Se=this.getLayoutProperty(de,"text-field"),this.originalLabelStyle.set(de,Se)):Se=this.originalLabelStyle.get(de),typeof Se=="string"){let{contains:Ie,exactMatch:Ve}=ex(Se,this.isStyleLocalized);if(!Ie)continue;if(Ve)this.setLayoutProperty(de,"text-field",T);else{let Ue=tx(Se,T,this.isStyleLocalized);this.setLayoutProperty(de,"text-field",Ue)}}else{let Ie=Q1(Se,T,this.isStyleLocalized);this.setLayoutProperty(de,"text-field",Ie)}}this.languageIsUpdated=!0}getPrimaryLanguage(){return this.primaryLanguage}getTerrainExaggeration(){return this.terrainExaggeration}hasTerrain(){return this.isTerrainEnabled}growTerrain(s){if(!this.terrain)return;let p=performance.now(),x=this.terrain.exaggeration,y=s-x,o=()=>{if(!this.terrain||this.terrainFlattening)return;let T=(performance.now()-p)/this.terrainAnimationDuration;if(T<.99){let A=1-(1-T)**4,R=x+A*y;this.terrain.exaggeration=R,requestAnimationFrame(o)}else this.terrainGrowing=!1,this.terrainFlattening=!1,this.terrain.exaggeration=s,this.fire("terrainAnimationStop",{terrain:this.terrain});this._elevationFreeze=!1,this.triggerRepaint()};!this.terrainGrowing&&!this.terrainFlattening&&this.fire("terrainAnimationStart",{terrain:this.terrain}),this.terrainGrowing=!0,this.terrainFlattening=!1,requestAnimationFrame(o)}enableTerrain(s=this.terrainExaggeration){if(s<0){console.warn("Terrain exaggeration cannot be negative.");return}let p=y=>{!this.terrain||y.type!=="data"||y.dataType!=="source"||!("source"in y)||y.sourceId!=="maptiler-terrain"||y.source.type!=="raster-dem"||y.isSourceLoaded&&(this.off("data",p),this.growTerrain(s))},x=()=>{this.isTerrainEnabled=!0,this.terrainExaggeration=s,this.on("data",p),this.addSource(dr.terrainSourceId,{type:"raster-dem",url:dr.terrainSourceURL}),this.setTerrain({source:dr.terrainSourceId,exaggeration:0})};if(this.getTerrain()){this.isTerrainEnabled=!0,this.growTerrain(s);return}if(this.loaded()||this.isTerrainEnabled)x();else{let y=()=>{this.getTerrain()&&this.getSource(dr.terrainSourceId)||x()};this.once("load",()=>{y()}),this.once("moveend",()=>{y()})}}disableTerrain(){if(!this.terrain)return;this.isTerrainEnabled=!1;let s=performance.now(),p=this.terrain.exaggeration,x=()=>{if(!this.terrain||this.terrainGrowing)return;let y=(performance.now()-s)/this.terrainAnimationDuration;if(this._elevationFreeze=!1,y<.99){let o=(1-y)**4,T=p*o;this.terrain.exaggeration=T,requestAnimationFrame(x)}else this.terrain.exaggeration=0,this.terrainGrowing=!1,this.terrainFlattening=!1,this.setTerrain(),this.getSource(dr.terrainSourceId)&&this.removeSource(dr.terrainSourceId),this.fire("terrainAnimationStop",{terrain:null});this.triggerRepaint()};!this.terrainGrowing&&!this.terrainFlattening&&this.fire("terrainAnimationStart",{terrain:this.terrain}),this.terrainGrowing=!1,this.terrainFlattening=!0,requestAnimationFrame(x)}setTerrainExaggeration(s,p=!0){!p&&this.terrain?(this.terrainExaggeration=s,this.terrain.exaggeration=s,this.triggerRepaint()):this.enableTerrain(s)}onStyleReady(s){this.isStyleLoaded()?s():this.once("styledata",()=>{s()})}async fitToIpBounds(){let s=await Mh.info();this.fitBounds(s.country_bounds,{duration:0,padding:100})}async centerOnIpPoint(s){let p=await Mh.info();this.jumpTo({center:[p.longitude??0,p.latitude??0],zoom:s||11})}getCameraHash(){let s=new Float32Array(5),p=this.getCenter();return s[0]=p.lng,s[1]=p.lat,s[2]=this.getZoom(),s[3]=this.getPitch(),s[4]=this.getBearing(),fy.fromUint8Array(new Uint8Array(s.buffer))}getSdkConfig(){return bi}getMaptilerSessionId(){return Df}setTransformRequest(s){return super.setTransformRequest(vy(s)),this}isGlobeProjection(){let s=this.getProjection();return s?s.type==="globe":!1}enableGlobeProjection(){this.isGlobeProjection()!==!0&&(this.setProjection({type:"globe"}),this.curentProjection="globe")}enableMercatorProjection(){this.isGlobeProjection()!==!1&&(this.setProjection({type:"mercator"}),this.curentProjection="mercator")}isLanguageUpdated(){return this.languageIsUpdated}};function Fh(c){let s=c.toString(16);return s.length===1?`0${s}`:s}function P2(c){return`#${Fh(c[0])}${Fh(c[1])}${Fh(c[2])}${c.length===4?Fh(c[3]):""}`}var ot=class c extends Array{constructor(s={}){super(),Ge(this,"min",0),Ge(this,"max",1),"min"in s&&(this.min=s.min),"max"in s&&(this.max=s.max),"stops"in s&&this.setStops(s.stops,{clone:!1})}static fromArrayDefinition(s){return new c({stops:s.map(p=>({value:p[0],color:p[1]}))})}setStops(s,p={clone:!0}){let x=p.clone?this.clone():this;x.length=0;let y=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;for(let T=0;T<s.length;T+=1)y=Math.min(y,s[T].value),o=Math.max(o,s[T].value),x.push({value:s[T].value,color:s[T].color.slice()});return x.sort((T,A)=>T.value<A.value?-1:1),this.min=y,this.max=o,x}scale(s,p,x={clone:!0}){let y=x.clone,o=this[0].value,T=this.at(-1).value-o,A=p-s,R=[];for(let O=0;O<this.length;O+=1){let G=(this[O].value-o)/T*A+s;y?R.push({value:G,color:this[O].color.slice()}):this[O].value=G}return y?new c({stops:R}):this}at(s){return s<0?this[this.length+s]:this[s]}clone(){return new c({stops:this.getRawColorStops()})}getRawColorStops(){let s=[];for(let p=0;p<this.length;p+=1)s.push({value:this[p].value,color:this[p].color});return s}reverse(s={clone:!0}){let p=s.clone?this.clone():this;for(let x=0;x<~~(p.length/2);x+=1){let y=p[x].color;p[x].color=p.at(-(x+1)).color,p.at(-(x+1)).color=y}return p}getBounds(){return{min:this.min,max:this.max}}getColor(s,p={smooth:!0}){if(s<=this[0].value)return this[0].color;if(s>=this.at(-1).value)return this.at(-1).color;for(let x=0;x<this.length-1;x+=1){if(s>this[x+1].value)continue;let y=this[x].color;if(!p.smooth)return y.slice();let o=this[x].value,T=this[x+1].value,A=this[x+1].color,R=(T-s)/(T-o);return y.map((O,G)=>Math.round(O*R+A[G]*(1-R)))}return[0,0,0]}getColorHex(s,p={smooth:!0,withAlpha:!1}){return P2(this.getColor(s,p))}getColorRelative(s,p={smooth:!0}){let x=this.getBounds();return this.getColor(x.min+s*(x.max-x.min),p)}getCanvasStrip(s={horizontal:!0,size:512,smooth:!0}){let p=document.createElement("canvas");p.width=s.horizontal?s.size:1,p.height=s.horizontal?1:s.size;let x=p.getContext("2d");if(!x)throw new Error("Canvs context is missing");let y=x.getImageData(0,0,p.width,p.height),o=y.data,T=s.size,A=this[0].value,R=(this.at(-1).value-A)/T;for(let O=0;O<T;O+=1){let G=this.getColor(A+O*R,{smooth:s.smooth});o[O*4]=G[0],o[O*4+1]=G[1],o[O*4+2]=G[2],o[O*4+3]=G.length>3?G[3]:255}return x.putImageData(y,0,0),p}resample(s,p=15){let x=this.getBounds(),y=this.scale(0,1),o=1/(p-1),T;if(s==="ease-in-square")T=Array.from({length:p},(A,R)=>{let O=R*o,G=O**2,V=y.getColor(G);return{value:O,color:V}});else if(s==="ease-out-square")T=Array.from({length:p},(A,R)=>{let O=R*o,G=1-(1-O)**2,V=y.getColor(G);return{value:O,color:V}});else if(s==="ease-out-sqrt")T=Array.from({length:p},(A,R)=>{let O=R*o,G=O**.5,V=y.getColor(G);return{value:O,color:V}});else if(s==="ease-in-sqrt")T=Array.from({length:p},(A,R)=>{let O=R*o,G=1-(1-O)**.5,V=y.getColor(G);return{value:O,color:V}});else if(s==="ease-out-exp")T=Array.from({length:p},(A,R)=>{let O=R*o,G=1-2**(-10*O),V=y.getColor(G);return{value:O,color:V}});else if(s==="ease-in-exp")T=Array.from({length:p},(A,R)=>{let O=R*o,G=2**(10*O-10),V=y.getColor(G);return{value:O,color:V}});else throw new Error("Invalid ressampling method.");return new c({stops:T}).scale(x.min,x.max)}transparentStart(){let s=this.getRawColorStops();s.unshift({value:s[0].value,color:s[0].color.slice()}),s[1].value+=.001;for(let p of s)p.color.length===3&&p.color.push(255);return s[0].color[3]=0,new c({stops:s})}hasTransparentStart(){return this[0].color.length===4&&this[0].color[3]===0}},kS={NULL:new ot({stops:[{value:0,color:[0,0,0,0]},{value:1,color:[0,0,0,0]}]}),GRAY:new ot({stops:[{value:0,color:[0,0,0]},{value:1,color:[255,255,255]}]}),JET:new ot({stops:[{value:0,color:[0,0,131]},{value:.125,color:[0,60,170]},{value:.375,color:[5,255,255]},{value:.625,color:[255,255,0]},{value:.875,color:[250,0,0]},{value:1,color:[128,0,0]}]}),HSV:new ot({stops:[{value:0,color:[255,0,0]},{value:.169,color:[253,255,2]},{value:.173,color:[247,255,2]},{value:.337,color:[0,252,4]},{value:.341,color:[0,252,10]},{value:.506,color:[1,249,255]},{value:.671,color:[2,0,253]},{value:.675,color:[8,0,253]},{value:.839,color:[255,0,251]},{value:.843,color:[255,0,245]},{value:1,color:[255,0,6]}]}),HOT:new ot({stops:[{value:0,color:[0,0,0]},{value:.3,color:[230,0,0]},{value:.6,color:[255,210,0]},{value:1,color:[255,255,255]}]}),SPRING:new ot({stops:[{value:0,color:[255,0,255]},{value:1,color:[255,255,0]}]}),SUMMER:new ot({stops:[{value:0,color:[0,128,102]},{value:1,color:[255,255,102]}]}),AUTOMN:new ot({stops:[{value:0,color:[255,0,0]},{value:1,color:[255,255,0]}]}),WINTER:new ot({stops:[{value:0,color:[0,0,255]},{value:1,color:[0,255,128]}]}),BONE:new ot({stops:[{value:0,color:[0,0,0]},{value:.376,color:[84,84,116]},{value:.753,color:[169,200,200]},{value:1,color:[255,255,255]}]}),COPPER:new ot({stops:[{value:0,color:[0,0,0]},{value:.804,color:[255,160,102]},{value:1,color:[255,199,127]}]}),GREYS:new ot({stops:[{value:0,color:[0,0,0]},{value:1,color:[255,255,255]}]}),YIGNBU:new ot({stops:[{value:0,color:[8,29,88]},{value:.125,color:[37,52,148]},{value:.25,color:[34,94,168]},{value:.375,color:[29,145,192]},{value:.5,color:[65,182,196]},{value:.625,color:[127,205,187]},{value:.75,color:[199,233,180]},{value:.875,color:[237,248,217]},{value:1,color:[255,255,217]}]}),GREENS:new ot({stops:[{value:0,color:[0,68,27]},{value:.125,color:[0,109,44]},{value:.25,color:[35,139,69]},{value:.375,color:[65,171,93]},{value:.5,color:[116,196,118]},{value:.625,color:[161,217,155]},{value:.75,color:[199,233,192]},{value:.875,color:[229,245,224]},{value:1,color:[247,252,245]}]}),YIORRD:new ot({stops:[{value:0,color:[128,0,38]},{value:.125,color:[189,0,38]},{value:.25,color:[227,26,28]},{value:.375,color:[252,78,42]},{value:.5,color:[253,141,60]},{value:.625,color:[254,178,76]},{value:.75,color:[254,217,118]},{value:.875,color:[255,237,160]},{value:1,color:[255,255,204]}]}),BLUERED:new ot({stops:[{value:0,color:[0,0,255]},{value:1,color:[255,0,0]}]}),RDBU:new ot({stops:[{value:0,color:[5,10,172]},{value:.35,color:[106,137,247]},{value:.5,color:[190,190,190]},{value:.6,color:[220,170,132]},{value:.7,color:[230,145,90]},{value:1,color:[178,10,28]}]}),PICNIC:new ot({stops:[{value:0,color:[0,0,255]},{value:.1,color:[51,153,255]},{value:.2,color:[102,204,255]},{value:.3,color:[153,204,255]},{value:.4,color:[204,204,255]},{value:.5,color:[255,255,255]},{value:.6,color:[255,204,255]},{value:.7,color:[255,153,255]},{value:.8,color:[255,102,204]},{value:.9,color:[255,102,102]},{value:1,color:[255,0,0]}]}),RAINBOW:new ot({stops:[{value:0,color:[150,0,90]},{value:.125,color:[0,0,200]},{value:.25,color:[0,25,255]},{value:.375,color:[0,152,255]},{value:.5,color:[44,255,150]},{value:.625,color:[151,255,0]},{value:.75,color:[255,234,0]},{value:.875,color:[255,111,0]},{value:1,color:[255,0,0]}]}),PORTLAND:new ot({stops:[{value:0,color:[12,51,131]},{value:.25,color:[10,136,186]},{value:.5,color:[242,211,56]},{value:.75,color:[242,143,56]},{value:1,color:[217,30,30]}]}),BLACKBODY:new ot({stops:[{value:0,color:[0,0,0]},{value:.2,color:[230,0,0]},{value:.4,color:[230,210,0]},{value:.7,color:[255,255,255]},{value:1,color:[160,200,255]}]}),EARTH:new ot({stops:[{value:0,color:[0,0,130]},{value:.1,color:[0,180,180]},{value:.2,color:[40,210,40]},{value:.4,color:[230,230,50]},{value:.6,color:[120,70,20]},{value:1,color:[255,255,255]}]}),ELECTRIC:new ot({stops:[{value:0,color:[0,0,0]},{value:.15,color:[30,0,100]},{value:.4,color:[120,0,100]},{value:.6,color:[160,90,0]},{value:.8,color:[230,200,0]},{value:1,color:[255,250,220]}]}),VIRIDIS:new ot({stops:[{value:0,color:[68,1,84]},{value:.13,color:[71,44,122]},{value:.25,color:[59,81,139]},{value:.38,color:[44,113,142]},{value:.5,color:[33,144,141]},{value:.63,color:[39,173,129]},{value:.75,color:[92,200,99]},{value:.88,color:[170,220,50]},{value:1,color:[253,231,37]}]}),INFERNO:new ot({stops:[{value:0,color:[0,0,4]},{value:.13,color:[31,12,72]},{value:.25,color:[85,15,109]},{value:.38,color:[136,34,106]},{value:.5,color:[186,54,85]},{value:.63,color:[227,89,51]},{value:.75,color:[249,140,10]},{value:.88,color:[249,201,50]},{value:1,color:[252,255,164]}]}),MAGMA:new ot({stops:[{value:0,color:[0,0,4]},{value:.13,color:[28,16,68]},{value:.25,color:[79,18,123]},{value:.38,color:[129,37,129]},{value:.5,color:[181,54,122]},{value:.63,color:[229,80,100]},{value:.75,color:[251,135,97]},{value:.88,color:[254,194,135]},{value:1,color:[252,253,191]}]}),PLASMA:new ot({stops:[{value:0,color:[13,8,135]},{value:.13,color:[75,3,161]},{value:.25,color:[125,3,168]},{value:.38,color:[168,34,150]},{value:.5,color:[203,70,121]},{value:.63,color:[229,107,93]},{value:.75,color:[248,148,65]},{value:.88,color:[253,195,40]},{value:1,color:[240,249,33]}]}),WARM:new ot({stops:[{value:0,color:[125,0,179]},{value:.13,color:[172,0,187]},{value:.25,color:[219,0,170]},{value:.38,color:[255,0,130]},{value:.5,color:[255,63,74]},{value:.63,color:[255,123,0]},{value:.75,color:[234,176,0]},{value:.88,color:[190,228,0]},{value:1,color:[147,255,0]}]}),COOL:new ot({stops:[{value:0,color:[125,0,179]},{value:.13,color:[116,0,218]},{value:.25,color:[98,74,237]},{value:.38,color:[68,146,231]},{value:.5,color:[0,204,197]},{value:.63,color:[0,247,146]},{value:.75,color:[0,255,88]},{value:.88,color:[40,255,8]},{value:1,color:[147,255,0]}]}),RAINBOW_SOFT:new ot({stops:[{value:0,color:[125,0,179]},{value:.1,color:[199,0,180]},{value:.2,color:[255,0,121]},{value:.3,color:[255,108,0]},{value:.4,color:[222,194,0]},{value:.5,color:[150,255,0]},{value:.6,color:[0,255,55]},{value:.7,color:[0,246,150]},{value:.8,color:[50,167,222]},{value:.9,color:[103,51,235]},{value:1,color:[124,0,186]}]}),BATHYMETRY:new ot({stops:[{value:0,color:[40,26,44]},{value:.13,color:[59,49,90]},{value:.25,color:[64,76,139]},{value:.38,color:[63,110,151]},{value:.5,color:[72,142,158]},{value:.63,color:[85,174,163]},{value:.75,color:[120,206,163]},{value:.88,color:[187,230,172]},{value:1,color:[253,254,204]}]}),CDOM:new ot({stops:[{value:0,color:[47,15,62]},{value:.13,color:[87,23,86]},{value:.25,color:[130,28,99]},{value:.38,color:[171,41,96]},{value:.5,color:[206,67,86]},{value:.63,color:[230,106,84]},{value:.75,color:[242,149,103]},{value:.88,color:[249,193,135]},{value:1,color:[254,237,176]}]}),CHLOROPHYLL:new ot({stops:[{value:0,color:[18,36,20]},{value:.13,color:[25,63,41]},{value:.25,color:[24,91,59]},{value:.38,color:[13,119,72]},{value:.5,color:[18,148,80]},{value:.63,color:[80,173,89]},{value:.75,color:[132,196,122]},{value:.88,color:[175,221,162]},{value:1,color:[215,249,208]}]}),DENSITY:new ot({stops:[{value:0,color:[54,14,36]},{value:.13,color:[89,23,80]},{value:.25,color:[110,45,132]},{value:.38,color:[120,77,178]},{value:.5,color:[120,113,213]},{value:.63,color:[115,151,228]},{value:.75,color:[134,185,227]},{value:.88,color:[177,214,227]},{value:1,color:[230,241,241]}]}),FREESURFACE_BLUE:new ot({stops:[{value:0,color:[30,4,110]},{value:.13,color:[47,14,176]},{value:.25,color:[41,45,236]},{value:.38,color:[25,99,212]},{value:.5,color:[68,131,200]},{value:.63,color:[114,156,197]},{value:.75,color:[157,181,203]},{value:.88,color:[200,208,216]},{value:1,color:[241,237,236]}]}),FREESURFACE_RED:new ot({stops:[{value:0,color:[60,9,18]},{value:.13,color:[100,17,27]},{value:.25,color:[142,20,29]},{value:.38,color:[177,43,27]},{value:.5,color:[192,87,63]},{value:.63,color:[205,125,105]},{value:.75,color:[216,162,148]},{value:.88,color:[227,199,193]},{value:1,color:[241,237,236]}]}),OXYGEN:new ot({stops:[{value:0,color:[64,5,5]},{value:.13,color:[106,6,15]},{value:.25,color:[144,26,7]},{value:.38,color:[168,64,3]},{value:.5,color:[188,100,4]},{value:.63,color:[206,136,11]},{value:.75,color:[220,174,25]},{value:.88,color:[231,215,44]},{value:1,color:[248,254,105]}]}),PAR:new ot({stops:[{value:0,color:[51,20,24]},{value:.13,color:[90,32,35]},{value:.25,color:[129,44,34]},{value:.38,color:[159,68,25]},{value:.5,color:[182,99,19]},{value:.63,color:[199,134,22]},{value:.75,color:[212,171,35]},{value:.88,color:[221,210,54]},{value:1,color:[225,253,75]}]}),PHASE:new ot({stops:[{value:0,color:[145,105,18]},{value:.13,color:[184,71,38]},{value:.25,color:[186,58,115]},{value:.38,color:[160,71,185]},{value:.5,color:[110,97,218]},{value:.63,color:[50,123,164]},{value:.75,color:[31,131,110]},{value:.88,color:[77,129,34]},{value:1,color:[145,105,18]}]}),SALINITY:new ot({stops:[{value:0,color:[42,24,108]},{value:.13,color:[33,50,162]},{value:.25,color:[15,90,145]},{value:.38,color:[40,118,137]},{value:.5,color:[59,146,135]},{value:.63,color:[79,175,126]},{value:.75,color:[120,203,104]},{value:.88,color:[193,221,100]},{value:1,color:[253,239,154]}]}),TEMPERATURE:new ot({stops:[{value:0,color:[4,35,51]},{value:.13,color:[23,51,122]},{value:.25,color:[85,59,157]},{value:.38,color:[129,79,143]},{value:.5,color:[175,95,130]},{value:.63,color:[222,112,101]},{value:.75,color:[249,146,66]},{value:.88,color:[249,196,65]},{value:1,color:[232,250,91]}]}),TURBIDITY:new ot({stops:[{value:0,color:[34,31,27]},{value:.13,color:[65,50,41]},{value:.25,color:[98,69,52]},{value:.38,color:[131,89,57]},{value:.5,color:[161,112,59]},{value:.63,color:[185,140,66]},{value:.75,color:[202,174,88]},{value:.88,color:[216,209,126]},{value:1,color:[233,246,171]}]}),VELOCITY_BLUE:new ot({stops:[{value:0,color:[17,32,64]},{value:.13,color:[35,52,116]},{value:.25,color:[29,81,156]},{value:.38,color:[31,113,162]},{value:.5,color:[50,144,169]},{value:.63,color:[87,173,176]},{value:.75,color:[149,196,189]},{value:.88,color:[203,221,211]},{value:1,color:[254,251,230]}]}),VELOCITY_GREEN:new ot({stops:[{value:0,color:[23,35,19]},{value:.13,color:[24,64,38]},{value:.25,color:[11,95,45]},{value:.38,color:[39,123,35]},{value:.5,color:[95,146,12]},{value:.63,color:[152,165,18]},{value:.75,color:[201,186,69]},{value:.88,color:[233,216,137]},{value:1,color:[255,253,205]}]}),CUBEHELIX:new ot({stops:[{value:0,color:[0,0,0]},{value:.07,color:[22,5,59]},{value:.13,color:[60,4,105]},{value:.2,color:[109,1,135]},{value:.27,color:[161,0,147]},{value:.33,color:[210,2,142]},{value:.4,color:[251,11,123]},{value:.47,color:[255,29,97]},{value:.53,color:[255,54,69]},{value:.6,color:[255,85,46]},{value:.67,color:[255,120,34]},{value:.73,color:[255,157,37]},{value:.8,color:[241,191,57]},{value:.87,color:[224,220,93]},{value:.93,color:[218,241,142]},{value:1,color:[227,253,198]}]}),CIVIDIS:new ot({stops:[{value:0,color:[0,32,77,255]},{value:.125,color:[5,54,110,255]},{value:.25,color:[65,77,108,255]},{value:.375,color:[97,100,111,255]},{value:.5,color:[125,124,121,255]},{value:.625,color:[156,149,120,255]},{value:.75,color:[190,175,111,255]},{value:.875,color:[225,204,94,255]},{value:1,color:[255,235,70,255]}]}),TURBO:new ot({stops:[{value:0,color:[48,18,59,255]},{value:.125,color:[70,107,227,255]},{value:.25,color:[40,187,236,255]},{value:.375,color:[49,242,153,255]},{value:.5,color:[162,252,60,255]},{value:.625,color:[237,208,58,255]},{value:.75,color:[251,128,34,255]},{value:.875,color:[210,49,5,255]},{value:1,color:[122,4,3,255]}]}),ROCKET:new ot({stops:[{value:0,color:[250,235,221,0]},{value:.133,color:[250,235,221,255]},{value:.266,color:[246,170,130,255]},{value:.4,color:[240,96,67,255]},{value:.533,color:[203,27,79,255]},{value:.666,color:[132,30,90,255]},{value:.8,color:[63,27,68,255]},{value:1,color:[3,5,26,255]}]}),MAKO:new ot({stops:[{value:0,color:[11,4,5,255]},{value:.125,color:[43,28,53,255]},{value:.25,color:[62,53,107,255]},{value:.375,color:[59,86,152,255]},{value:.5,color:[53,123,162,255]},{value:.625,color:[53,158,170,255]},{value:.75,color:[73,193,173,255]},{value:.875,color:[150,221,181,255]},{value:1,color:[222,245,229,255]}]})};X1();var LS=Qe.default.Map,zS=Qe.default.Marker,RS=Qe.default.Popup,DS=Qe.default.Style,FS=Qe.default.CanvasSource,BS=Qe.default.GeoJSONSource,OS=Qe.default.ImageSource,jS=Qe.default.RasterTileSource,NS=Qe.default.RasterDEMTileSource,US=Qe.default.VectorTileSource,$S=Qe.default.VideoSource,VS=Qe.default.NavigationControl,GS=Qe.default.GeolocateControl,ZS=Qe.default.AttributionControl,qS=Qe.default.LogoControl,HS=Qe.default.ScaleControl,WS=Qe.default.FullscreenControl,XS=Qe.default.TerrainControl,KS=Qe.default.BoxZoomHandler,YS=Qe.default.ScrollZoomHandler,JS=Qe.default.CooperativeGesturesHandler,QS=Qe.default.KeyboardHandler,eT=Qe.default.TwoFingersTouchPitchHandler,tT=Qe.default.MapWheelEvent,iT=Qe.default.MapTouchEvent,rT=Qe.default.MapMouseEvent,nT=Qe.default.config,oT=Qe.default.getVersion,{setRTLTextPlugin:aT,getRTLTextPluginStatus:sT,LngLat:lT,LngLatBounds:cT,MercatorCoordinate:uT,Evented:hT,AJAXError:pT,prewarm:dT,clearPrewarmedResources:fT,Hash:mT,Point:gT,EdgeInsets:yT,DragRotateHandler:_T,DragPanHandler:vT,TwoFingersTouchZoomRotateHandler:xT,DoubleClickZoomHandler:bT,TwoFingersTouchZoomHandler:wT,TwoFingersTouchRotateHandler:ST,getWorkerCount:TT,setWorkerCount:PT,getMaxParallelImageRequests:MT,setMaxParallelImageRequests:CT,getWorkerUrl:IT,setWorkerUrl:AT,addSourceType:ET,importScriptInWorkers:kT,addProtocol:LT,removeProtocol:zT}=Qe.default;function C2({location:c,config:s}){return{map:null,marker:null,location:null,config:{defaultZoom:13,defaultLocation:{lat:41.0082,lng:28.9784},style:"STREETS",customTiles:[],customMarker:null,showStyleSwitcher:!1,markerIconPath:"",markerShadowPath:"",apiKey:"",rotationable:!0,hash:!1,maxBounds:null,language:null,geolocate:!1},styles:{STREETS:Ei.STREETS,"STREETS.DARK":Ei.STREETS.DARK,"STREETS.LIGHT":Ei.STREETS.LIGHT,OUTDOOR:Ei.OUTDOOR,WINTER:Ei.WINTER,SATELLITE:Ei.SATELLITE,HYBRID:Ei.HYBRID,DATAVIZ:Ei.DATAVIZ,"DATAVIZ.DARK":Ei.DATAVIZ.DARK,"DATAVIZ.LIGHT":Ei.DATAVIZ.LIGHT},init(){if(this.location=c,this.config={...this.config,...s},!this.config.apiKey)throw new Error("MapTiler API key is required");if((!window.__maptilerApiKey||window.__maptilerApiKey!==this.config.apiKey)&&(bi.apiKey=this.config.apiKey,window.__maptilerApiKey=this.config.apiKey),this.config.language){let p=Ct[this.config.language]||this.config.language;bi.primaryLanguage=p}this.config.customTiles&&Object.keys(this.config.customTiles).length>0&&(this.styles={...this.styles,...this.config.customTiles}),this.initMap()},initMap(){let p=[this.getCoordinates().lng,this.getCoordinates().lat],x={container:this.$refs.mapContainer,style:this.styles[this.config.style]||Ei.STREETS,center:p,zoom:this.config.defaultZoom,interactive:!1};if(this.config.hash&&(x.hash=!0),this.config.maxBounds&&(x.maxBounds=this.config.maxBounds),this.map=new Wf(x),this.config.geolocate){let o=this.map.getContainer().querySelector(".maplibregl-ctrl-top-right");o&&(o.innerHTML="");let T=new Yc;this.map.addControl(T,"top-right"),this.map.on("load",()=>T.trigger())}let y={};if(this.config.customMarker&&(y.element=this.createMarkerElement(this.config.customMarker)),this.marker=new P_(y).setLngLat(p).addTo(this.map),this.config.showStyleSwitcher&&this.addStyleSwitcherControl(),this.config.rotationable||(this.map.dragRotate.disable(),this.map.touchZoomRotate.disableRotation()),this.config.language){let o=Ct[this.config.language]||this.config.language;this.map.on("load",()=>this.map.setLanguage(o))}},createMarkerElement(p){let x=document.createElement("div");return p.className&&(x.className=p.className),p.iconUrl&&(x.style.backgroundImage=`url('${p.iconUrl}')`,x.style.width=(p.iconSize?.[0]||25)+"px",x.style.height=(p.iconSize?.[1]||41)+"px",x.style.backgroundSize="contain"),x},setStyle(p){let x=this.styles[p]||Ei.STREETS;this.map.setStyle(x)},addStyleSwitcherControl(){let p=this;class x{onAdd(o){this.map=o,this.container=document.createElement("div"),this.container.className="map-tiler-tile-selector maplibregl-ctrl maplibregl-ctrl-group";let T=document.createElement("select");return Object.keys(p.styles).forEach(A=>{let R=document.createElement("option");R.value=A,R.textContent=p.formatStyleName(A),A===p.config.style&&(R.selected=!0),T.appendChild(R)}),T.onchange=A=>p.setStyle(A.target.value),this.container.appendChild(T),this.container}onRemove(){this.container.parentNode.removeChild(this.container),this.map=void 0}}this.map.addControl(new x,"top-right")},formatStyleName(p){return p.replace(/\./g," ").replace(/([A-Z])/g," $1").replace(/^./,x=>x.toUpperCase()).trim()},getCoordinates(){let p=this.location;if(typeof p=="string")try{p=JSON.parse(p)}catch{p=null}return(!p||!p.lat||!p.lng)&&(p={lat:this.config.defaultLocation.lat,lng:this.config.defaultLocation.lng}),p}}}export{C2 as default};
